package com.cegepst;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class DecoderTest {

    private Decoder decoder;

    @BeforeEach
    public void SETUP() {
        decoder = new Decoder();
    }

    @Test
    void DECODE_SHORT_MESSAGE() {
        String result = decoder.decode("010011010011011110011010010010010110");
        assertEquals("Moi", result);
    }

    @Test
    void DECODE_CORRUPTED_MESSAGE() {
        String result = decoder.decode("011011010011010110011011010010010110");
        assertEquals("CORRUPTED", result);
    }

    @Test
    void DECODE_LONG_MESSAGE() {
        String result = decoder.decode("010011010011011110011011101001000001011011101011011110011011011001000001001000001011001010011100111011101000001000001010010101011001010011100100011001010011110101011011011011110011000101000");
        assertEquals("Mon nom est Jeremy", result);
    }

    @Test
    void DECODE_LONG_MESSAGE_2() {
        String result = decoder.decode("010011010011011110011011101001000001011011101011011110011011011001000001001000001011001010011100111011101000001000001010010101011001010011100100011001010011110101011011011011110011001000001010001101011011110011011101011101000011000011011001100011010010011011101011001010001011010010001011011101000011010001011010010011111111011001010011100100001000001011001010011101000001000001011010100001001110010010110011000011011010010001000001001100101001101010001000001011000011011011101000000000011100111011100111");
        assertEquals("Mon nom est Jeremy Fontaine-Ethier et j'ai 25 ans", result);
    }
}
